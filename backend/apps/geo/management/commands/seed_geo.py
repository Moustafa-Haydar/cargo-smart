import random
from django.core.management.base import BaseCommand
from apps.geo.models import Location


class Command(BaseCommand):
    help = "Seed realistic Indian locations from actual logistics data. Use --fresh to delete existing first."

    def add_arguments(self, parser):
        parser.add_argument("--fresh", action="store_true")

    def handle(self, *args, **opts):
        if opts["fresh"]:
            Location.objects.all().delete()
            self.stdout.write(self.style.WARNING("Cleared geo data"))

        random.seed(42)

        # Only realistic locations from actual logistics data
        realistic_locations = [
            ("TVSLSL-JAMALPURL-HUB", "Gurgaon, Haryana", 28.3540, 76.9390),
            ("TVSLSL HUB MATHIGIRI", "Hosur, Tamil Nadu", 12.7400, 77.8200),
            ("TVSLSL HUB (CHAKAN)", "Pune, Maharashtra", 18.7680, 73.8630),
            ("LUCAS TVS LTD-PONDY", "Pondy, Pondicherry", 11.8720, 79.6320),
            ("LUCAS TVS LTD-AMBATTUR", "Chennai, Tamil Nadu", 13.1020, 80.1940),
            ("ASHOK LEYLAND ENNORE", "Chennai, Tamil Nadu", 13.2150, 80.3200),
            ("ASHOK LEYLAND PLANT 2-HOSUR", "Hosur, Karnataka", 12.7660, 77.7860),
            ("Shive", "Pune, Maharashtra", 18.750621, 73.87719),
            ("Pondur", "Kanchipuram, Tamil Nadu", 12.930429, 79.931163),
            ("Ramte Ram Road", "Ghaziabad, Uttar Pradesh", 28.927021, 77.642158),
            ("I. E. Partapur", "Meerut, Uttar Pradesh", 28.927021, 77.642158),
            ("Mookandapalli", "Krishnagiri, Tamil Nadu", 12.746894, 77.806168),
            ("Athipattu", "Tiruvallur, Tamil Nadu", 13.092058, 80.156813),
            ("Jagadambigainagar", "Tiruvallur, Tamil Nadu", 13.087428, 80.184717),
            ("Pozhal", "Tiruvallur, Tamil Nadu", 13.165101, 80.204244),
            ("Guruvoyal", "Tiruvallur, Tamil Nadu", 13.202214, 80.131693),
            ("Onnalvadi", "Krishnagiri, Tamil Nadu", 12.683589, 77.859239),
            ("Vellaripatti", "Madurai, Tamil Nadu", 9.973636, 78.281783),
            ("Devalapura", "Mysore, Karnataka", 12.223062, 76.690357),
            # Additional locations from comprehensive logistics data
            ("Khorajnanoda", "Ahmedabad, Gujarat", 22.961777, 72.094219),
            ("Jamalpur", "Gurgaon, Haryana", 28.373519, 76.835337),
            ("Mugabala", "Bangalore Rural, Karnataka", 16.560192249175344, 80.792293091599547),
            ("Sahakaranagar P.O", "Bangalore, Karnataka", 13.0631, 77.590597),
            ("Singaperumalkoil", "Kanchipuram, Tamil Nadu", 12.786517, 79.975221),
            ("Bhikki", "Muzaffarnagar, Uttar Pradesh", 29.420166, 77.784542),
            ("Gobindpur Housing Colony", "East Singhbhum, Jharkhand", 22.749591, 86.281875),
            ("Shukarwar Peth Phaltan", "Satara, Maharashtra", 17.942449, 74.546328),
            ("PRAVEEN ENGINEERING INDUSTRIES", "Hosur, Tamil Nadu", 12.7510, 77.8040),
            ("SRI DEVI POWDER COATING INDUSTRIES", "Chennai, Tamil Nadu", 13.2150, 80.3200),
            ("TVS MOTOR COMPANY-HOSUR", "Hosur, Tamil Nadu", 12.6740, 77.7670),
            ("TVSLSL-PUZHAL-HUB", "Chennai, Tamil Nadu", 13.1550, 80.1960),
            ("Kalri", "Mahesana, Gujarat", 23.5159, 72.077925),
            ("TVSLSL HUB (CHAKAN)", "Pune, Maharashtra", 22.9900, 72.2500),
            ("Goraj", "Ahmedabad, Gujarat", 22.969075, 72.325933),
            # Major Indian cities and industrial hubs
            ("Mumbai", "Maharashtra", 19.0760, 72.8777),
            ("Delhi", "Delhi", 28.7041, 77.1025),
            ("Bangalore", "Karnataka", 12.9716, 77.5946),
            ("Hyderabad", "Telangana", 17.3850, 78.4867),
            ("Ahmedabad", "Gujarat", 23.0225, 72.5714),
            ("Chennai", "Tamil Nadu", 13.0827, 80.2707),
            ("Kolkata", "West Bengal", 22.5726, 88.3639),
            ("Pune", "Maharashtra", 18.5204, 73.8567),
            ("Jaipur", "Rajasthan", 26.9124, 75.7873),
            ("Surat", "Gujarat", 21.1702, 72.8311),
            ("Lucknow", "Uttar Pradesh", 26.8467, 80.9462),
            ("Kanpur", "Uttar Pradesh", 26.4499, 80.3319),
            ("Nagpur", "Maharashtra", 21.1458, 79.0882),
            ("Indore", "Madhya Pradesh", 22.7196, 75.8577),
            ("Thane", "Maharashtra", 19.2183, 72.9781),
            ("Bhopal", "Madhya Pradesh", 23.2599, 77.4126),
            ("Visakhapatnam", "Andhra Pradesh", 17.6868, 83.2185),
            ("Pimpri-Chinchwad", "Maharashtra", 18.6298, 73.7997),
            ("Patna", "Bihar", 25.5941, 85.1376),
            ("Vadodara", "Gujarat", 22.3072, 73.1812),
            ("Ghaziabad", "Uttar Pradesh", 28.6692, 77.4538),
            ("Ludhiana", "Punjab", 30.9010, 75.8573),
            ("Agra", "Uttar Pradesh", 27.1767, 78.0081),
            ("Nashik", "Maharashtra", 19.9975, 73.7898),
            ("Faridabad", "Haryana", 28.4089, 77.3178),
            ("Meerut", "Uttar Pradesh", 28.9845, 77.7064),
            ("Rajkot", "Gujarat", 22.3039, 70.8022),
            ("Kalyan-Dombivali", "Maharashtra", 19.2403, 73.1305),
            ("Vasai-Virar", "Maharashtra", 19.4259, 72.8225),
            ("Varanasi", "Uttar Pradesh", 25.3176, 82.9739),
            ("Srinagar", "Jammu and Kashmir", 34.0837, 74.7973),
            ("Aurangabad", "Maharashtra", 19.8762, 75.3433),
            ("Navi Mumbai", "Maharashtra", 19.0330, 73.0297),
            ("Solapur", "Maharashtra", 17.6599, 75.9064),
            ("Vijayawada", "Andhra Pradesh", 16.5062, 80.6480),
            ("Kolhapur", "Maharashtra", 16.7050, 74.2433),
            ("Amritsar", "Punjab", 31.6340, 74.8723),
            ("Noida", "Uttar Pradesh", 28.5355, 77.3910),
            ("Ranchi", "Jharkhand", 23.3441, 85.3096),
            ("Howrah", "West Bengal", 22.5958, 88.2636),
            ("Coimbatore", "Tamil Nadu", 11.0168, 76.9558),
            ("Raipur", "Chhattisgarh", 21.2514, 81.6296),
            ("Kochi", "Kerala", 9.9312, 76.2673),
            ("Chandigarh", "Chandigarh", 30.7333, 76.7794),
            ("Guwahati", "Assam", 26.1445, 91.7362),
            ("Hubli-Dharwad", "Karnataka", 15.3647, 75.1240),
            ("Mysore", "Karnataka", 12.2958, 76.6394),
            ("Gurgaon", "Haryana", 28.4595, 77.0266),
            ("Aligarh", "Uttar Pradesh", 27.8974, 78.0880),
            ("Moradabad", "Uttar Pradesh", 28.8384, 78.7733),
            ("Jalandhar", "Punjab", 31.3260, 75.5762),
            ("Bhubaneswar", "Odisha", 20.2961, 85.8245),
            ("Salem", "Tamil Nadu", 11.6643, 78.1460),
            ("Warangal", "Telangana", 17.9689, 79.5941),
            ("Guntur", "Andhra Pradesh", 16.3067, 80.4365),
            ("Bhiwandi", "Maharashtra", 19.3002, 73.0582),
            ("Amravati", "Maharashtra", 20.9374, 77.7796),
            ("Nanded", "Maharashtra", 19.1383, 77.3210),
            ("Kolhapur", "Maharashtra", 16.7050, 74.2433),
            ("Sangli", "Maharashtra", 16.8524, 74.5815),
            ("Malegaon", "Maharashtra", 20.5597, 74.5255),
            ("Ulhasnagar", "Maharashtra", 19.2215, 73.1645),
            ("Jalgaon", "Maharashtra", 21.0077, 75.5626),
            ("Latur", "Maharashtra", 18.4088, 76.5604),
            ("Ahmadnagar", "Maharashtra", 19.0952, 74.7496),
            ("Dhule", "Maharashtra", 20.9028, 74.7774),
            ("Ichalkaranji", "Maharashtra", 16.6919, 74.4605),
            ("Parbhani", "Maharashtra", 19.2603, 76.7741),
            ("Jalna", "Maharashtra", 19.8410, 75.8864),
            ("Bhusawal", "Maharashtra", 21.0436, 75.7851),
            ("Panvel", "Maharashtra", 18.9881, 73.1103),
            ("Satara", "Maharashtra", 17.6805, 73.9883),
            ("Beed", "Maharashtra", 18.9894, 75.7564),
            ("Yavatmal", "Maharashtra", 20.3888, 78.1204),
            ("Kamptee", "Maharashtra", 21.2333, 79.2000),
            ("Gondia", "Maharashtra", 21.4600, 80.1920),
            ("Barshi", "Maharashtra", 18.2333, 75.7000),
            ("Achalpur", "Maharashtra", 21.2567, 77.5106),
            ("Osmanabad", "Maharashtra", 18.1667, 76.0500),
            ("Nandurbar", "Maharashtra", 21.3667, 74.2500),
            ("Wardha", "Maharashtra", 20.7500, 78.6000),
            ("Udgir", "Maharashtra", 18.3833, 77.1167),
            ("Aurangabad", "Maharashtra", 19.8762, 75.3433),
            ("Amalner", "Maharashtra", 20.9333, 75.1667),
            ("Akola", "Maharashtra", 20.7000, 77.0000),
            ("Lakhimpur", "Uttar Pradesh", 27.9483, 80.7795),
            ("Sitapur", "Uttar Pradesh", 27.5667, 80.6833),
            ("Hardoi", "Uttar Pradesh", 27.4167, 80.1167),
            ("Mujaffarnagar", "Uttar Pradesh", 29.4667, 77.7000),
            ("Shahjahanpur", "Uttar Pradesh", 27.8833, 79.9167),
            ("Rampur", "Uttar Pradesh", 28.8000, 79.0167),
            ("Modinagar", "Uttar Pradesh", 28.8333, 77.7500),
            ("Hapur", "Uttar Pradesh", 28.7167, 77.7833),
            ("Etawah", "Uttar Pradesh", 26.7667, 79.0333),
            ("Mirzapur", "Uttar Pradesh", 25.1500, 82.5667),
            ("Bulandshahr", "Uttar Pradesh", 28.4000, 77.8500),
            ("Sambhal", "Uttar Pradesh", 28.5833, 78.5500),
            ("Amroha", "Uttar Pradesh", 28.9000, 78.4667),
            ("Hardwar", "Uttarakhand", 29.9500, 78.1667),
            ("Rampur", "Uttar Pradesh", 28.8000, 79.0167),
            ("Shamli", "Uttar Pradesh", 29.4500, 77.3167),
            ("Nawabganj", "Uttar Pradesh", 26.9333, 80.2000),
            ("Khurja", "Uttar Pradesh", 28.2500, 77.8500),
            ("Gokul", "Uttar Pradesh", 27.4500, 77.7167),
            ("Mathura", "Uttar Pradesh", 27.5000, 77.6833),
            ("Aligarh", "Uttar Pradesh", 27.8974, 78.0880),
            ("Hathras", "Uttar Pradesh", 27.6000, 78.0500),
            ("Firozabad", "Uttar Pradesh", 27.1500, 78.4000),
            ("Etah", "Uttar Pradesh", 27.6333, 78.6667),
            ("Kasganj", "Uttar Pradesh", 27.8167, 78.6500),
            ("Mainpuri", "Uttar Pradesh", 27.2333, 79.0167),
            ("Budaun", "Uttar Pradesh", 28.0500, 79.1167),
            ("Bareilly", "Uttar Pradesh", 28.3500, 79.4000),
            ("Pilibhit", "Uttar Pradesh", 28.6333, 79.8000),
            ("Shahjahanpur", "Uttar Pradesh", 27.8833, 79.9167),
            ("Kheri", "Uttar Pradesh", 27.9167, 80.8000),
            ("Sitapur", "Uttar Pradesh", 27.5667, 80.6833),
            ("Hardoi", "Uttar Pradesh", 27.4167, 80.1167),
            ("Unnao", "Uttar Pradesh", 26.5500, 80.4833),
            ("Lucknow", "Uttar Pradesh", 26.8467, 80.9462),
            ("Rae Bareli", "Uttar Pradesh", 26.2167, 81.2333),
            ("Farrukhabad", "Uttar Pradesh", 27.4000, 79.5667),
            ("Kannauj", "Uttar Pradesh", 27.0667, 79.9167),
            ("Etawah", "Uttar Pradesh", 26.7667, 79.0333),
            ("Auraiya", "Uttar Pradesh", 26.4667, 79.5167),
            ("Kanpur Dehat", "Uttar Pradesh", 26.4333, 79.9833),
            ("Kanpur", "Uttar Pradesh", 26.4499, 80.3319),
            ("Jalaun", "Uttar Pradesh", 26.1500, 79.3500),
            ("Jhansi", "Uttar Pradesh", 25.4333, 78.5833),
            ("Lalitpur", "Uttar Pradesh", 24.6833, 78.4167),
            ("Hamirpur", "Uttar Pradesh", 25.9500, 80.1500),
            ("Mahoba", "Uttar Pradesh", 25.2833, 79.8667),
            ("Banda", "Uttar Pradesh", 25.4833, 80.3333),
            ("Chitrakoot", "Uttar Pradesh", 25.2000, 80.8667),
            ("Fatehpur", "Uttar Pradesh", 25.9167, 80.8000),
            ("Pratapgarh", "Uttar Pradesh", 25.9000, 81.9500),
            ("Kaushambi", "Uttar Pradesh", 25.3333, 81.3833),
            ("Allahabad", "Uttar Pradesh", 25.4500, 81.8500),
            ("Bara Banki", "Uttar Pradesh", 26.9333, 81.2000),
            ("Faizabad", "Uttar Pradesh", 26.7500, 82.1333),
            ("Ambedkar Nagar", "Uttar Pradesh", 26.4167, 82.7000),
            ("Sultanpur", "Uttar Pradesh", 26.2500, 82.0667),
            ("Bahraich", "Uttar Pradesh", 27.5833, 81.6000),
            ("Shrawasti", "Uttar Pradesh", 27.5167, 82.0167),
            ("Balrampur", "Uttar Pradesh", 27.4333, 82.1833),
            ("Gonda", "Uttar Pradesh", 27.1333, 81.9500),
            ("Siddharthnagar", "Uttar Pradesh", 27.3000, 82.7667),
            ("Basti", "Uttar Pradesh", 26.8000, 82.7167),
            ("Sant Kabir Nagar", "Uttar Pradesh", 26.7667, 83.0667),
            ("Maharajganj", "Uttar Pradesh", 27.1333, 83.5667),
            ("Gorakhpur", "Uttar Pradesh", 26.7500, 83.3667),
            ("Kushinagar", "Uttar Pradesh", 26.7333, 83.8833),
            ("Deoria", "Uttar Pradesh", 26.5000, 83.7833),
            ("Azamgarh", "Uttar Pradesh", 26.0667, 83.1833),
            ("Mau", "Uttar Pradesh", 25.9500, 83.5667),
            ("Ballia", "Uttar Pradesh", 25.7667, 84.1500),
            ("Jaunpur", "Uttar Pradesh", 25.7333, 82.6833),
            ("Ghazipur", "Uttar Pradesh", 25.5833, 83.5667),
            ("Chandauli", "Uttar Pradesh", 25.2667, 83.2667),
            ("Varanasi", "Uttar Pradesh", 25.3176, 82.9739),
            ("Sant Ravidas Nagar", "Uttar Pradesh", 25.3167, 82.5667),
            ("Mirzapur", "Uttar Pradesh", 25.1500, 82.5667),
            ("Sonbhadra", "Uttar Pradesh", 24.6833, 83.0667),
        ]

        total_created = 0
        for name, state, lat, lng in realistic_locations:
            obj, created = Location.objects.get_or_create(
                name=name,
                state=state,
                country="India",
                country_code="IN",
                defaults=dict(lat=lat, lng=lng, timezone="Asia/Kolkata"),
            )
            if created:
                total_created += 1

        self.stdout.write(self.style.SUCCESS(f"Seeded {total_created} Indian locations for geo."))
